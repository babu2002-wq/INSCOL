pipeline{
agent any
stages
{
stage('Build'){
steps
{
echo "Building code"
bat "mvn -version"
bat "mvn clean"
}
}
stage('Test'){
steps
{
echo "Testing code"
bat "mvn test -DsuiteXmlFile=testng.xml"
}
}
stage('Compile'){
steps
{
echo "Compile code"
bat "mvn compile"
}
}
stage('Deploy'){
steps
{
echo "Deploying code"
}
}
}
post{
always{
echo 'Generating TestNG Report'
bat 'start target\\surefire-reports\\index.html'
}
}

}
